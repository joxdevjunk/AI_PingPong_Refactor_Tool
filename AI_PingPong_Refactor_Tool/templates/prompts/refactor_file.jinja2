âš ï¸âš ï¸âš ï¸ EXIGENCE CRITIQUE DE FORMAT âš ï¸âš ï¸âš ï¸

TU ES UN EXPERT SENIOR EN REFACTORING PYTHON.

Ta rÃ©ponse DOIT Ãªtre UNIQUEMENT le JSON ci-dessous, **ENTIÃˆREMENT EN FRANÃ‡AIS**.
AUCUNE explication, AUCUN bloc markdown, AUCUN texte avant/aprÃ¨s.
Commence par `{` sur la premiÃ¨re ligne, termine par `}` sur la derniÃ¨re.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š DONNÃ‰ES D'ANALYSE DU PROJET
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

**Projet:** {{ project_name }}
**Fichier:** `{{ file_summary['file_path'] }}`
**Date d'analyse:** {{ file_summary['generated_at'] }}

## APERÃ‡U DES MÃ‰TRIQUES

- **MÃ©thodes totales:** {{ file_summary['total_methods'] }}
- **Classes totales:** {{ file_summary['total_classes'] }}
- **Lignes de code:** {{ file_summary['metrics']['total_code_lines'] }} ({{ file_summary['metrics']['total_lines'] }} avec commentaires)
- **Longueur moyenne mÃ©thodes:** {{ file_summary['metrics']['average_method_length'] }} lignes
- **Longueur mÃ©diane mÃ©thodes:** {{ file_summary['metrics']['median_method_length'] }} lignes
- **Sans documentation:** {{ file_summary['metrics']['undocumented_count'] }} mÃ©thodes ({{ file_summary['metrics']['undocumented_percentage'] }}%)
- **MÃ©thodes longues (>50L):** {{ file_summary['metrics']['long_methods_count'] }}

## DISTRIBUTION DE COMPLEXITÃ‰

- ğŸŸ¢ **Faible:** {{ file_summary['metrics']['complexity_distribution']['low'] }} mÃ©thodes
- ğŸŸ¡ **Moyenne:** {{ file_summary['metrics']['complexity_distribution']['medium'] }} mÃ©thodes
- ğŸŸ  **Ã‰levÃ©e:** {{ file_summary['metrics']['complexity_distribution']['high'] }} mÃ©thodes
- ğŸ”´ **Critique:** {{ file_summary['metrics']['complexity_distribution']['critical'] }} mÃ©thodes

{% if file_summary['metrics']['long_methods_count'] > 0 %}
## ğŸ”´ MÃ‰THODES LES PLUS LONGUES

{% for method in file_summary['metrics']['long_methods'] %}
- **`{{ method['name'] }}`**: {{ method['lines'] }} lignes (lignes {{ method['start'] }}-{{ method['end'] }})
{% endfor %}
{% endif %}

## STRUCTURE DÃ‰TAILLÃ‰E

{% for class in file_summary['classes'] %}
### ğŸ“‹ {{ class['name'] }} ({{ class['method_count'] }} mÃ©thodes | {{ class['code_lines'] }} lignes de code)

{% for method in class['methods'] %}
**`{{ method['signature'] }}`**
- Lignes: {{ method['start_line'] }}-{{ method['end_line'] }} ({{ method['code_lines'] }} lignes de code)
- ComplexitÃ©: {{ method['complexity'] }}
{% if method['params'] %}- ParamÃ¨tres: {{ method['params_str'] }}{% endif %}
{% if not method['has_docstring'] %}- âš ï¸ SANS DOCSTRING{% endif %}
{% if method['is_long'] %}- ğŸ”´ TROP LONGUE (>50 lignes){% endif %}
- Doc: {{ method['docstring'] }}
{% endfor %}

{% endfor %}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš¨ FORMAT JSON OBLIGATOIRE - RÃ‰PONSE EN FRANÃ‡AIS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TU DOIS rÃ©pondre avec EXACTEMENT cette structure JSON.
AUCUN bloc markdown (```
TOUT LE CONTENU TEXTUEL DOIT ÃŠTRE EN FRANÃ‡AIS.

{
  "executive_summary": {
    "severity": "HIGH|MEDIUM|LOW",
    "total_lines": <nombre>,
    "code_lines": <nombre>,
    "technical_debt_score": "X.X/10",
    "maintainability_index": "XX/100 (Ã‰levÃ©|Moyen|Faible)",
    "cyclomatic_complexity_avg": "Faible|Moyenne|Ã‰levÃ©e|Critique",
    "primary_issue": "ProblÃ¨me principal en 1 phrase max 12 mots",
    "refactoring_urgency": "Ã‰levÃ©e|Moyenne|Faible - Justification 1 phrase",
    "context": "Contexte taille/complexitÃ© projet 1 phrase dense",
    "comparison": "Comparaison best practices 1 phrase"
  },
  
  "critical_metrics_analysis": {
    "size_indicators": {
      "methods_count": <nombre>,
      "threshold_context": "Seuil contextuel en franÃ§ais",
      "verdict": "X% au-dessus/en-dessous seuil",
      "code_lines": <nombre>,
      "threshold_lines": "XXX-XXX lignes max",
      "verdict": "X% au-dessus/en-dessous"
    },
    
    "complexity_distribution": {
      "critical": {"count": <nombre>, "percentage": "XX%", "verdict": "EXCELLENT|BON|PROBLÃ‰MATIQUE"},
      "high": {"count": <nombre>, "percentage": "XX%", "verdict": "EXCELLENT|BON|PROBLÃ‰MATIQUE"},
      "medium": {"count": <nombre>, "percentage": "XX%", "verdict": "BON"},
      "low": {"count": <nombre>, "percentage": "XX%", "verdict": "EXCELLENT"},
      "analysis": "1 phrase MAXIMUM si distribution bonne"
    },
    
    "long_methods": {
      "count": <nombre>,
      "percentage": "XX%",
      "longest": [
        {"method": "nom_methode", "lines": <nombre>, "role": "Ce qu'elle fait 1 phrase"}
      ],
      "verdict": "1 phrase verdict si 0-2 mÃ©thodes >50L acceptables"
    },
    
    "documentation": {
      "missing_docstrings": <nombre>,
      "percentage": "XX%",
      "missing_methods": ["method1", "method2"],
      "verdict": "Excellent|Bon|Moyen|Faible - Niveau prioritÃ©"
    }
  },
  
  "responsibility_analysis": {
    "current_responsibilities": {
      "nom_responsabilite": {
        "methods": ["method1", "method2"],
        "lines_est": <nombre>,
        "verdict": "ACCEPTABLE|PROBLÃ‰MATIQUE"
      }
    },
    "verdict": "1 phrase rÃ©sumÃ© responsabilitÃ©s extraction"
  },
  
  "critical_issues_prioritized": [
    {
      "priority": "P0 - Critique|P1 - Ã‰levÃ©e|P2 - Moyenne|P3 - CosmÃ©tique",
      "category": "architecture|complexitÃ©|duplication|documentation|cosmetic",
      "issue": "Titre problÃ¨me max 50 caractÃ¨res",
      "affected_methods": ["method1", "method2"],
      "lines": <nombre>,
      "description": "1 phrase P3, 2-3 phrases P0/P1",
      "impact": "1 phrase impact",
      "solution": "1 phrase solution concrÃ¨te",
      "effort": "X heures|jours",
      "benefits": ["BÃ©nÃ©fice 1", "BÃ©nÃ©fice 2"]
    }
  ],
  
  "targeted_refactoring_plan": {
    "philosophy": "StratÃ©gie globale 1-2 phrases",
    
    "phase_1_nom": {
      "duration": "X jours",
      "priority": "P0|P1|P2",
      "goal": "Objectif phase 1 phrase",
      "tasks": ["TÃ¢che 1", "TÃ¢che 2", "TÃ¢che 3"],
      "result": {
        "file_reduction": "-XXX lignes",
        "new_file": "chemin/fichier.py (~XXX lignes)",
        "testability": "AmÃ©lioration testabilitÃ© 1 phrase"
      }
    }
  },
  
  "method_by_method_refactoring": {
    "nom_methode_XXX_lines": {
      "current_complexity": "CRITIQUE|Ã‰LEVÃ‰E|ACCEPTABLE",
      "refactoring": {
        "recommended_approach": "Conservation OU extraction - justification 1 phrase sans code"
      }
    }
  },
  
  "comparison_with_best_practices": {
    "context_guidelines": {
      "typical_size": "Lignes attendues type fichier",
      "current": "<nombre> lignes",
      "verdict": "XX% au-dessus/en-dessous",
      "acceptable_responsibilities": ["resp1", "resp2"],
      "unacceptable_in_this_context": ["resp3", "resp4"]
    },
    
    "project_specific_assessment": {
      "good": ["Aspects qualitatifs architecture patterns SANS rÃ©pÃ©ter mÃ©triques chiffrÃ©es"],
      "bad": ["Violations best practices"]
    }
  },
  
  "immediate_quick_wins": [
    {
      "action": "Quoi faire max 50 caractÃ¨res",
      "effort": "X heures",
      "impact": "HIGH|MEDIUM|LOW - BÃ©nÃ©fice",
      "priority": "P0|P1|P2|P3",
      "steps": ["Ã‰tape 1", "Ã‰tape 2", "Ã‰tape 3"]
    }
  ],
  
  "risk_assessment": {
    "refactoring_risks": {
      "nom_risque": {
        "level": "Ã‰LEVÃ‰|MOYEN|FAIBLE",
        "description": "Risque 1 phrase",
        "mitigation": "PrÃ©vention 1 phrase",
        "rollback_plan": "Annulation 1 phrase"
      }
    }
  },
  
  "success_metrics": {
    "before_refactoring": {"methods": <nombre>, "lines": <nombre>, "complexity_critical": <nombre>},
    "after_all_phases": {"methods": <nombre>, "lines": <nombre>, "complexity_critical": <nombre>, "maintainability_index": "XX â†’ XX (+XX%)"}
  },
  
  "total_effort_estimate": {
    "phase_1": "X jours",
    "total": "X jours",
    "with_buffer_15_percent": "X jours",
    "note": "Justification estimation 1 phrase"
  },
  
  "recommendation": {
    "priority": "Ã‰LEVÃ‰E|MOYENNE|FAIBLE - Quand commencer",
    "approach": "StratÃ©gie refactoring 1 phrase",
    "rationale": "Pourquoi cette approche 1 phrase",
    "quick_start": ["Jour 1: Actions", "Jour 2: Actions"],
    "long_term": "Timeline complÃ¨te 1 phrase"
  }
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ CHECKLIST VALIDATION JSON
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Commence par `{` termine par `}`
âœ… Guillemets doubles "..." pas simples '...'
âœ… Pas virgules traÃ®nantes
âœ… CaractÃ¨res spÃ©ciaux Ã©chappÃ©s (\n, \", \$$
âœ… Nombres sans guillemets sauf formats "X.X/10"
âœ… TOUT EN FRANÃ‡AIS
âœ… executive_summary 4 phrases MAX
âœ… critical_issues_prioritized 3-7 items
âœ… Arrays 1 ligne si <5 items courts

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ DOMAINES ANALYSE PRIORITAIRES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

**Cherche prioritairement:**
- **God Classes**: Trop responsabilitÃ©s
- **MÃ©thodes >100L**: Toujours refactoriser
- **MÃ©thodes 50-100L**: Ã‰valuer contexte (orchestrateur UI acceptable, logique mÃ©tier extraire)
- **Code dupliquÃ©**: Logique similaire
- **SÃ©paration**: UI/mÃ©tier mÃ©langÃ©
- **Tests**: Code non testable
- **Couplage**: DÃ©pendances excessives

**Contexte projet:**
- MainWindow/GUI peuvent Ãªtre plus gros que classes service
- SuggÃ¨re amÃ©liorations rÃ©alistes pas rÃ©Ã©critures complÃ¨tes

**Ã‰viter sur-optimisation:**
- MÃ©thode 50-80L bien structurÃ©e orchestrateur UI = ACCEPTABLE
- Ne recommande pas extraction si ajoute complexitÃ© sans gain clair
- 100% mÃ©triques parfaites â‰  objectif - code maintenable l'est
- Priorise problÃ¨mes impact maintenance rÃ©elle quotidienne

**Fausses alertes ignorer:**
- Orchestrateur UI 60L sections claires
- Handler Ã©vÃ©nement 55L Ã©tats UI cohÃ©rents
- Parser 70L switch/if structurÃ©s

**Vraies alertes critiques:**
- MÃ©thode 150L+ logique mÃ©tier imbriquÃ©e
- Duplication >30L entre mÃ©thodes
- Mix mÃ©tier + SQL + UI mÃªme mÃ©thode

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ RÃˆGLES CONCISION NIVEAU PLANCK
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

**Ã‰limination redondances atomiques:**
- Si mÃ©trique chiffrÃ©e dans executive_summary, NE PAS rÃ©pÃ©ter comparison_with_best_practices
- comparison.good: aspects QUALITATIFS patterns SEULEMENT sans rÃ©pÃ©ter chiffres
- Verdict mÃ©triques acceptables: 1 phrase EXACTEMENT

**Compression verdicts:**
- complexity_distribution.analysis: 1 phrase MAX si distribution excellente
- long_methods.verdict: 1 phrase MAX si 0-2 >50L acceptables
- responsibility_analysis.verdict: 1 phrase TOTALE

**DensitÃ© maximale:**
- executive_summary: 4 phrases MAX
- critical_issues P3: 1 phrase description, 1 impact, 1 solution
- Supprimer mots redondants: "cosmÃ©tique", "esthÃ©tique", "EXCELLENT" rÃ©pÃ©tÃ©s

**Sections optionnelles si LOW severity:**
- method_by_method_refactoring: 1 entry MAX (ou omis)
- immediate_quick_wins: 2 items MAX
- Si refactoring NON recommandÃ©: PAS de section code

**Format ultra-compact:**
- Arrays 1 ligne: ["item1", "item2"] si <5 items courts
- benefits: 2 items MAX P3, 3-4 P0/P1
- steps: 3 items MAX P3, 5-7 P0/P1

**RÃ¨gles priorisation:**
- P0 = Bloque maintenance (>150L, duplication massive, logique non testable)
- P1 = Ralentit dÃ©veloppement (architecture incohÃ©rente, couplage fort)
- P2 = AmÃ©lioration utile (docs manquantes, refactoring extraction optionnelle)
- P3 = CosmÃ©tique (55L acceptable, naming perfectible, mÃ©trique vanity)

Limite P0/P1 problÃ¨mes impact maintenance rÃ©el mesurable.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš« NE PAS RECOMMANDER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

N'inclus PAS ces "amÃ©liorations" sauf problÃ¨me majeur avÃ©rÃ©:
- Extraction mÃ©thode <70L bien structurÃ©e pour atteindre 0% >50L
- CrÃ©ation classe orchestrator pour mÃ©thode UI 60-80L cohÃ©rente
- Split handler Ã©vÃ©nement claire en micro-mÃ©thodes 5-10L
- Refactoring cosmÃ©tique sans bÃ©nÃ©fice testabilitÃ©/maintenance mesurable

Focus problÃ¨mes impactant dÃ©veloppement quotidien, pas perfection mÃ©trique.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš ï¸âš ï¸âš ï¸ RAPPEL FINAL âš ï¸âš ï¸âš ï¸
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

GÃ‰NÃˆRE UNIQUEMENT JSON PUR EN FRANÃ‡AIS. PAS MARKDOWN. PAS EXPLICATIONS.
Premier caractÃ¨re: {
Dernier caractÃ¨re: }
LANGUE: FRANÃ‡AIS pour TOUT contenu textuel
CONCISION: Format ultra-compact niveau Planck
